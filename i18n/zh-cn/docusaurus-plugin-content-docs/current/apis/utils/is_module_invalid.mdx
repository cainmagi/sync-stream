---
id: is_module_invalid
title: is_module_invalid
sidebar_label: is_module_invalid
slug: /apis/utils/is_module_invalid
description: 检查某个延迟加载模块是否无效。
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import vsiCheckIcon from "@iconify-icons/codicon/check";

import APITopBar, {IconObjType} from "@site/src/components/APITopBar";
import IconLink from "@site/src/components/IconLink";
import InlineIcon from "@site/src/components/InlineIcon";

<APITopBar type="func" isPrivate={true} source="utils.is_module_invalid" />

```python
flag: bool = is_module_invalid(module: ModuleType)
```

检查某个延迟加载模块是否无效。

该函数是为了一个特定的目的设计的。由于延迟加载模块意味着模块不会马上加载，这就有可能导致某个延迟加载的模块实际并未安装。该函数主要用来验证这一情况。

## 参数 {#arguments}

### 输入 {#requires}

|   参数   |     类型     |               必选                | <center>说明</center>                                    |
| :------: | :----------: | :-------------------------------: | :------------------------------------------------------- |
| `module` | `ModuleType` | <InlineIcon icon={vsiCheckIcon}/> | 可以是一个延迟加载模块、一个普通模块、或一个模块占位符。 |

### 输出 {#returns}

|  参数  |  类型  | <center>说明</center>                            |
| :----: | :----: | :----------------------------------------------- |
| `flag` | `bool` | 当且仅当给定模块为一个模块占位符时，返回`True`。 |

## 范例 {#example}

### <IconObjType type="term"/> 加载某个可选模块、并验证其并未加载 {#-load-an-optional-module-and-verify-that-the-module-is-not-loaded}

<Tabs
  defaultValue="codes"
  values={[
    { label: '代码', value: 'codes', },
    { label: '结果', value: 'results', },
  ]
}>

<TabItem value="codes">

假设未安装`numpy`。

```python showLineNumbers title="verify_a_module_placeholder.py"
from typing import TYPE_CHECKING
from syncstream import utils

if TYPE_CHECKING:
    import curses
else:
    curses = utils.lazy_import(
        "curses", package=None, dependencies=("numpy",), required=False
    )


print(curses)
print(utils.is_module_invalid(curses))
print(curses)
```

</TabItem>

<TabItem value="results">

```python
<ModulePlaceholder curses>
True
<ModulePlaceholder curses>
```

</TabItem>
</Tabs>
